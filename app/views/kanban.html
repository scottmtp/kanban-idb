<div ng-include src="'/views/header.html'"></div>

<div>
  <h3>Project: {{project.name}}</h3>
  <button role='button' class='btn' ng-click="createProject()">Create</button>
  <button role='button' class='btn' ng-click="editProject(project)">Edit</button>
  <button role='button' class='btn' ng-click="switchProject()">Switch</button>
</div>

<div id="cards">
  <h3>Cards:</h3>
  
  <div id="columns" class="row">
    <div class="workflowColumn col-md-4" ng-repeat="workflow in project.workflow">
      <h4>{{workflow}}</h4>
      <ul class="cardHolder connected sortable" data-workflow="{{workflow}}" html-sortable="sortableOptions" ng-model="cards[workflow]">
        <li ng-repeat="card in cards[workflow] track by card.id">
          <div class="card">
            <div><span class="cardTitle">{{card.name}}</span></div>
            <div><span class="cardPoints">Points: {{card.points}}</span></div>
            <div><span class="cardTaskCount">Tasks: {{card.tasks.length}}</span></div>
            <div><span class="cardTaskCount">Ord: {{card.ordinal}}</span></div>
            <button role="button" class="btn" ng-click="editCard(card)">Edit</button>
          </div>
        </li>
      </ul>
    </div>
  </div>
  
  <button role='button' class='btn' ng-click="createCard(project)">Create</button>
</div>

<div ng-include src="'/views/footer.html'"></div>
